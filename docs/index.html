<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>ClimeApp Tutorials</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./images/Logo_Favicon.ico" rel="icon">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-d4be639c637f3db3c684c66cefad7e0c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/Logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Tutorials</span>
    </a>
  </div>
        <div class="quarto-navbar-tools tools-end">
    <a href="https://github.com/ClimeApp" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
          <div id="quarto-search" class="" title="Search"></div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#climate-reanalysis" id="toc-climate-reanalysis" class="nav-link active" data-scroll-target="#climate-reanalysis">1. Climate Reanalysis</a></li>
  <li><a href="#mode-ra-sources-and-statistical-tools" id="toc-mode-ra-sources-and-statistical-tools" class="nav-link" data-scroll-target="#mode-ra-sources-and-statistical-tools">2. ModE-RA Sources and Statistical Tools</a></li>
  <li><a href="#datasets" id="toc-datasets" class="nav-link" data-scroll-target="#datasets">3. Datasets</a></li>
  <li><a href="#variables" id="toc-variables" class="nav-link" data-scroll-target="#variables">4. Variables</a></li>
  <li><a href="#anomalies" id="toc-anomalies" class="nav-link" data-scroll-target="#anomalies">5. Anomalies</a></li>
  <li><a href="#composites" id="toc-composites" class="nav-link" data-scroll-target="#composites">6. Composites</a></li>
  <li><a href="#sea" id="toc-sea" class="nav-link" data-scroll-target="#sea">7. SEA</a></li>
  <li><a href="#correlation" id="toc-correlation" class="nav-link" data-scroll-target="#correlation">8. Correlation</a></li>
  <li><a href="#regression" id="toc-regression" class="nav-link" data-scroll-target="#regression">9. Regression</a></li>
  <li><a href="#annual-cycles" id="toc-annual-cycles" class="nav-link" data-scroll-target="#annual-cycles">10. Annual Cycles</a></li>
  <li><a href="#customizations-and-downloads" id="toc-customizations-and-downloads" class="nav-link" data-scroll-target="#customizations-and-downloads">11. Customizations and Downloads</a></li>
  <li><a href="#outlook-conclusions-references" id="toc-outlook-conclusions-references" class="nav-link" data-scroll-target="#outlook-conclusions-references">12. Outlook / Conclusions / References</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ClimeApp Tutorials</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Welcome to the ClimeApp Video Tutorial. We are going to show you how you can use ClimeApp to analyze and visualize reconstructed climate data in order to answer a variety of scientific research questions. ClimeApp is a data processing tool for the state-of-the-art Modern Era Reanalysis – short ModeE-RA. ModE-RA provides a monthly, global climate reconstruction from 1422 to 2008.</p>
<p><a href="https://mode-ra.unibe.ch/climeapp/" class="climeapp-button" target="_blank"> To ClimeApp </a></p>
<p>For an introduction to using ClimeApp and the data behind it, watch the video tutorials. To see the spoken text, each video has an expandable panel underneath with the full transcript. <br><br></p>
<section id="climate-reanalysis" class="level2">
<h2 class="anchored" data-anchor-id="climate-reanalysis">1. Climate Reanalysis</h2>
<div class="video-wrapper">
<p><video controls=""> <source src="videos/01_climate_reanalysis.mp4" type="video/mp4"> Your browser does not support the video tag. </video></p>
</div>
<p><strong>Sources</strong> <br> [Wegmann et al.&nbsp;2014] <br> (Brönnimann, 2015)</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 1
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>A Climate Reanalysis is a powerful method to produce a dataset of the past climate. It uses observations from proxies such as corals, ice cores and tree rings, as well as documentary data and measurement data to reconstruct the climate. This reconstructed data is then fed into powerful global climate models to get a complete dataset.</p>
<p>The main goal of having a reanalysis of the past six centuries is to study climate variability. This includes the effects of climate phenomena like El Niño Southern Oscillation and Monsoons or external forcings like volcanic eruptions or the rise of manmade C02 in the atmosphere.</p>
<p>ClimeApp was developed to make the ModE-RA data accessible to a broader audience of researchers, particularly outside of climatology. It is designed to visualize and analyze the ModE-RA data in a user-friendly way.</p>
<p>To walk you through the functionalities of ClimeApp, we will analyze the largest volcanic eruption in recorded human history: Mount Tambora. The stratovolcano Mount Tambora is located on the Island Sumbawa in Indonesia. It violently erupted on the fifth of April 1815 after being dormant for several centuries. The explosion reduced Tambora’s maximum elevation from 4300 to 2850 m and caused heavy volcanic ash rains on the surrounding islands. An estimated 71’000 people were killed. Explosive tropical eruptions like Tambora are a main cause of short-term interannual climate variability (Wegmann et al.&nbsp;2014). Sulfuric acid from the eruption reaches the stratosphere and forms sulfate aerosols that then spread around the globe. The aerosols absorb longwave radiation from the sun and the Earth which significantly warms the stratosphere. But they also reflect shortwave solar radiation, reducing the amount of radiation that reaches the Earth’s surface. This has a cooling effect on the troposphere, especially on land surfaces (Brönnimann, 2015).</p>
</div>
</div>
</div>
</section>
<section id="mode-ra-sources-and-statistical-tools" class="level2">
<h2 class="anchored" data-anchor-id="mode-ra-sources-and-statistical-tools">2. ModE-RA Sources and Statistical Tools</h2>
<div class="video-wrapper">
<p><video controls=""> <source src="videos/02_sources_and_statistics.mp4" type="video/mp4"> Your browser does not support the video tag. </video></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 2
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In each analysis tool, you’ll find a section called “ModE-RA sources”. It shows you a map of the selected region and year with points for each assimilated source. Colors and symbols indicate the variables and types of proxies or data that were recorded at this location. The maps are split into two seasons, October-March, and April-September of the selected year. By drawing a box on the left map, you can zoom in to get a better overview, which is particularly handy in recent history, where the sources get more and more numerous. For the year 1816, after the Tambora eruption, the feedback archive in Indonesia contains instrumental data of sea level pressure, documentary data, coral, and speleothem proxies.</p>
<p>The Standard Deviation or SD Ratio shows the extent to which the climate models, used to construct ModE-RA were, constrained by observations. An SD ratio of 1 (the highest value) shows no constraint. This means that the ModE-RA output is entirely generated from the models. Lower values show increasing constraint, meaning there are either more observations at this location or that they are more ‘trusted’ by the reconstruction.</p>
</div>
</div>
</div>
</section>
<section id="datasets" class="level2">
<h2 class="anchored" data-anchor-id="datasets">3. Datasets</h2>
<div class="video-wrapper">
<div class="video-placeholder">
Video coming soon
</div>
<p><!-- Kann nach Fertigstellung entfernt werden --> <!--   <video controls> --> <!--     <source src="videos/03_datasets.mp4" type="video/mp4"> --> <!--     Your browser does not support the video tag. --> <!--   </video> --></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 3
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Besides ModE-RA, we can choose two other datasets. ModE-Sim is the ensemble mean of the 20 different atmospheric model simulations. It is a physical prediction of the global climate given external forcings (such as volcanic aerosols, solar irradiation and greenhouse gases) and boundary conditions (such as sea surface temperature and sea ice reconstructions). ModE-RAclim uses no physical constraints and fits the model simulations only to observed climate data – the so called feedback archive. ModE-RA is the final reconstruction, that uses the feedback archive to constrain the atmospheric model simulations of ModE-sim.</p>
<p>For regular analysis, especially if you are a non-climatologist, we recommend using ModE-RA. The ModE-sim dataset can be used to study climate variability, and ModE-RAclim should be seen more as a side product for sensitivity studies. You can learn more about the Mode-RA, ModE-RAclim, and ModE-Sim datasets by clicking the links in the description.</p>
<p>Let’s look at the summer temperature anomalies of 1816 over Europe and change the dataset to ModE-Sim and ModE-RAclim. ModE-RA and ModE-RAclim are essentially the same, whereas ModE-Sim predicts considerably smaller anomalies than were observed. This suggests that either part of the eruption’s effect was not captured in the ModE-Sim calculations – perhaps the magnitude of the forcing was so large that it exceeded the model’s capabilities, or there were other climatic factors at work not captured in the model.</p>
</div>
</div>
</div>
</section>
<section id="variables" class="level2">
<h2 class="anchored" data-anchor-id="variables">4. Variables</h2>
<div class="video-wrapper">
<div class="video-placeholder">
Video coming soon
</div>
<p><!-- Kann nach Fertigstellung entfernt werden --> <!--   <video controls> --> <!--     <source src="videos/04_variables.mp4" type="video/mp4"> --> <!--     Your browser does not support the video tag. --> <!--   </video> --></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 4
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Climate is not only determined by temperature. ClimeApp integrates three other variables of the ModE-RA reanalysis [select drop down menu]: total monthly precipitation, sea level pressure and pressure at 500 hectopascal geopotential height.</p>
<p>Let’s have a look at precipitation, for example. For this, we are using the annual range to get annual precipitation means. The most pronounced precipitation anomalies are seen around Southeast Asia, suggesting that the Tambora eruption seriously disrupted the Asian monsoon system.</p>
</div>
</div>
</div>
</section>
<section id="anomalies" class="level2">
<h2 class="anchored" data-anchor-id="anomalies">5. Anomalies</h2>
<div class="video-wrapper">
<div class="video-placeholder">
Video coming soon
</div>
<p><!-- Kann nach Fertigstellung entfernt werden --> <!--   <video controls> --> <!--     <source src="videos/05_anomalies.mp4" type="video/mp4"> --> <!--     Your browser does not support the video tag. --> <!--   </video> --></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 5
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>There are six main statistical analysis tools on ClimeApp: Anomalies, Composites, Superposed Epoch Analysis (SEA), Correlation, Regression and Annual Cycles. First, let’s have a look at Anomalies.</p>
<p>On the right hand side. You can see a default map, which is automatically generated when the page is loaded. Anomalies show how the climate in a selected time period differs from a chosen reference time period: In this case, the pre-selected time range is the entire almost 600 years, covered by the ModE-RA datasets. The default reference period is 1961 – 1990. To get a global view, we can change the geographical area using this button. The map therefore shows that the global temperatures of the last 600 years were on average colder than between 1961 and 1990.</p>
<p>Alternatively, we can visualize a time series of the selected time range. Since we selected “global” this line now shows the annual global mean temperatures, again with a very clear increase after the beginning of the 20th century. If we select “Europe”, there is more interannual variability, but also a higher overall increase.</p>
<p>You can view the absolute means for your reference period by selecting the Reference map selection below the main map. Absolute values maps the mean values of the selected year range, and reference values maps the mean values of the reference period. Absolute values can be interesting to get an understanding of climatic differences on a global scale. However, we do not recommend using absolute value maps only. As you can see, it is hard to see visible differences between the two maps, plus, the reanalysis method makes absolute values potentially unreliable – this is solved by using anomalies.</p>
<p>Let’s now investigate the year without summer, 1816, after the Tambora eruption.</p>
<p>We can select it here as a single year, and choose a reference period, to which we want to compare the anomaly. Let’s use a 30 year reference period, which is the standard time range used in climate monitoring, reporting, and research. You can now see the annual temperature anomaly of 1816 compared to the climate around this time, mapped for the whole globe.</p>
<p>Since the ModE-RA data has a monthly resolution, we can also map the anomalies of seasons or months. Click on ‘JJA’ to see what the summer temperature anomalies during June, July, and August 1816 on the northern hemisphere were like. Or select a single month, July, in this case. We see cold anomalies especially over Canada, Central Europe, and parts of Asia.</p>
<p>South America, for example, looks a bit faint, because of the stronger anomalies in other parts of the world. Let’s zoom in by drawing a box on the map and clicking ‘update coordinates’. Now there’s more contrast, due to the color bar range.</p>
<p>We can also set the coordinates of the map manually, for example, if we want to focus on Peru in this case. You can see a residual here, which likely comes from instrumental measurement data.</p>
<p>Interpreting ModE-RA at this fine spatial and temporal resolution requires some caution. While the reconstruction provides valuable large-scale patterns, localized or short-term anomalies can reflect either real signals or artifacts of the reconstruction process — especially in data-scarce regions. Always check the ModE-RA sources tab to see the data sources for your chosen region.</p>
</div>
</div>
</div>
</section>
<section id="composites" class="level2">
<h2 class="anchored" data-anchor-id="composites">6. Composites</h2>
<div class="video-wrapper">
<div class="video-placeholder">
Video coming soon
</div>
<p><!-- Kann nach Fertigstellung entfernt werden --> <!--   <video controls> --> <!--     <source src="videos/06_composites.mp4" type="video/mp4"> --> <!--     Your browser does not support the video tag. --> <!--   </video> --></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 6
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Let’s now look at the next analysis tool: Composites. This works similarly to the anomaly tool, but a composite is an average across multiple, non-consecutive years. For example, we can insert a list of years in which other tropical eruptions occurred. This allows us to map the average, composite impact of these eruptions on the global climate.</p>
<p>As with anomalies we can change the reference period. When using a fixed reference period, we would usually choose one that includes all composite years. We can also use a list of custom reference years as a reference, or a certain number of years prior to the composite years. Let’s select 5 years prior. The map shows that, compared to the 5 years before each eruption, there is an almost global summer cooling effect, with large anomalies over tropical and midlatitude continents.</p>
</div>
</div>
</div>
</section>
<section id="sea" class="level2">
<h2 class="anchored" data-anchor-id="sea">7. SEA</h2>
<div class="video-wrapper">
<div class="video-placeholder">
Video coming soon
</div>
<p><!-- Kann nach Fertigstellung entfernt werden --> <!--   <video controls> --> <!--     <source src="videos/07_sea.mp4" type="video/mp4"> --> <!--     Your browser does not support the video tag. --> <!--   </video> --></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 7
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Superposed Epoch Analysis, or SEA, is a statistical method used to detect patterns in time series data. It works by aligning multiple events — called epochs — to a common reference point, known as “zero time.” This helps reveal average signals or anomalies that are linked to specific types of events, such as volcanic eruptions, El Niño episodes, or other climatic or environmental triggers. By combining and aligning these events, SEA reduces noise in the data and makes the shared signal easier to see.</p>
</div>
</div>
</div>
</section>
<section id="correlation" class="level2">
<h2 class="anchored" data-anchor-id="correlation">8. Correlation</h2>
<div class="video-wrapper">
<div class="video-placeholder">
Video coming soon
</div>
<p><!-- Kann nach Fertigstellung entfernt werden --> <!--   <video controls> --> <!--     <source src="videos/08_correlation.mp4" type="video/mp4"> --> <!--     Your browser does not support the video tag. --> <!--   </video> --></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 8
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Correlation measures the statistical relationship between two variables – this relationship can be either causal or non-causal.</p>
<p>In ClimeApp, the Correlation tool allows you to compare two sets of ModE-RA data, or to correlate your own uploaded data with ModE-RA. Start by entering all selections for Variable 1: Choose the data source, dataset, variable, how you want to use the data – either as a Field or a Timeseries – and define the month range, reference period, and coordinates.</p>
<p>Next, choose a range of years to correlate. This range is limited by the available data: either 1422 to 2008 for ModE-RA, or the years covered by your own uploaded dataset.</p>
<p>Then, enter all settings for Variable 2, in the same way.</p>
<p>If you upload your own data, make sure it is yearly data. Each column should begin with the variable name at the top, and the first column must contain the year of each entry, as shown in the example. When using ModE data, ClimeApp will only correlate two Field datasets if their geographic areas overlap.</p>
<p>To correlate a single Timeseries with the Timeseries for each point on a Field plot, select Timeseries for one variable and Field for the other. To set coordinates for either variable, you can enter them manually or select from predefined continental regions. If you zoom into the map, use the Update Coordinates button under Variable 1 or Variable 2 to apply the new map extent to the relevant variable.</p>
<p>In the Timeseries tab, you also have the option to display a scatter plot below the graph. This gives you a visual representation of how strongly and in what form the two variables are related. You can customize the scatter plot by adding a trendline, highlighting statistical outliers, and choosing whether to show or hide the key. There is also the option to download the scatter plot as an image for further use.</p>
</div>
</div>
</div>
</section>
<section id="regression" class="level2">
<h2 class="anchored" data-anchor-id="regression">9. Regression</h2>
<div class="video-wrapper">
<div class="video-placeholder">
Video coming soon
</div>
<p><!-- Kann nach Fertigstellung entfernt werden --> <!--   <video controls> --> <!--     <source src="videos/09_regression.mp4" type="video/mp4"> --> <!--     Your browser does not support the video tag. --> <!--   </video> --></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 9
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Finally, we will show you how to use ClimeApp’s Regression function. We will try removing the influence of CO2 on global climate, specifically temperature. Regression analyzes the impact of one or more independent variables on a dependent variable. It calculates a linear equation that fits the independent variables (in this case: the CO2 content of the atmosphere) to the dependent variable (in this case: temperature). For this, we upload a file containing reconstructed yearly global CO2 contents from 1422 – 2008. Select the variable CO2. This is our independent variable. We select the years 1600 to 2005. You see the CO2 content rapidly increasing after the 1800s. The dependent variable is temperature from the ModE-RA dataset. If we wanted to analyze the temperature anomalies, we would need to indicate a reference period. However, let’s look at the absolute temperatures. Since we want to look at the global climate, we select “global” as the spatial extent. Now we are ready to interpret our results. The upper plot shows the original temperature curve in red. The black curve shows the change in temperature that can be predicted from the CO2 data. You see that a large part of the increase is caused by the CO2. However, be careful with causality here. Just because there is a statistical relationship between the dependent and independent data, does not mean that this is the case in the real world. But since the influence of CO2 on global temperature is well researched and proven, we can safely say that it explains a large part of the temperature variability. The residuals plot below shows you the part of the temperature variability that can’t be explained by CO2. The statistical summary gives you more advanced data including the constants used to create the Trend line and variables for estimating its reliability. The map displays the coefficients of the independent variable — or variables — from the linear regression equation, shown for each point on the map. You can use “Choose a variable” to select which independent variable you want to plot. The coefficient tells you how strongly the independent variable influences the dependent one — it’s the number the variable is multiplied by, in the regression calculation. This map displays the p-values of the independent variable — or variables — from the linear regression equation, shown for each point on the map. Use “Choose a variable” to select which independent variable you want to see. The p-value tells you how likely it is that the observed relationship happened just by chance, and not because there’s a real statistical connection. This map shows the residual values of the dependent variable for the selected year, displayed for each point on the map. Residuals are the part of the dependent variable that remains after the trend predicted by the independent variable — or variables — has been removed. In other words: Residual equals Original minus Trend.</p>
</div>
</div>
</div>
</section>
<section id="annual-cycles" class="level2">
<h2 class="anchored" data-anchor-id="annual-cycles">10. Annual Cycles</h2>
<div class="video-wrapper">
<div class="video-placeholder">
Video coming soon
</div>
<p><!-- Kann nach Fertigstellung entfernt werden --> <!--   <video controls> --> <!--     <source src="videos/10_annual_cycles.mp4" type="video/mp4"> --> <!--     Your browser does not support the video tag. --> <!--   </video> --></p>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 10
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This tool lets you plot monthly values of a variable – either absolute values or anomalies – as an annual cycle for a specific year or a group of years. You can also display several years on the same plot, which makes it easy to compare different annual cycles. This is particularly handy if – for instance - I want to see how temperature changed through the year for several years in a row.</p>
</div>
</div>
</div>
</section>
<section id="customizations-and-downloads" class="level2">
<h2 class="anchored" data-anchor-id="customizations-and-downloads">11. Customizations and Downloads</h2>
<div class="video-placeholder">
Video coming soon
</div>
<!-- Kann nach Fertigstellung entfernt werden -->
<div class="video-wrapper">
<!--   <video controls> -->
<!--     <source src="videos/11_customizations_and_downloads.mp4" type="video/mp4"> -->
<!--     Your browser does not support the video tag. -->
<!--   </video> -->
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 11
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The maps and timeseries are customizable.</p>
<p>On the first panel, Map Customization, you can edit the titles, axes, borders displayed on your map, and much more.</p>
<p>Under Projection, you can choose how the world map is displayed. Available projections include UTM (used by default), Robinson, Orthographic, and LAEA – the Lambert Azimuthal Equal-Area projection.</p>
<p>To adjust the limits of the map’s colour axis, select “Fixed” under Axis Customization. These limits will stay fixed even after changing the plot, which helps when comparing two maps. Select “Automatic” to let the axis rescale dynamically or choose to hide the axis entirely.</p>
<p>In the Topography options and GIS upload section, you can control the visual appearance of your map and add additional geographic layers.</p>
<p>You can show or hide modern country borders, and toggle visual elements such as rivers, lakes, and mountains – including labels. You can also apply a grey ocean or grey land style for better contrast.</p>
<p>To add your own geographic layers, upload either a GeoPackage file or a shapefile in ZIP format using the upload button. The ZIP must include all required shapefile components – such as .shp, .shx, .dbf, and .prj. Accepted shapes include polygons, lines, and points, for example to display your own borders, rivers, or cities. Uploaded layers can be selected individually, outlined in custom colours, and reordered as needed.</p>
<p>You can add labelled points or rectangular highlights to your map to draw attention to specific regions. To do this, open the second panel, Custom Features.</p>
<p>To add a point, either double-click directly on the map, enter a location name, or type in the exact coordinates. You can customise the point’s shape, colour, size, and label. Then click “Add point” to place it on the map. You can also enter multiple coordinates at once, separated by commas, to add several points in one step.</p>
<p>To add a highlight, draw a box on the map, or enter a longitude and latitude range manually.</p>
<p>Choose a colour and a highlight type: box, filled, or hatched. Then click “Add highlight”. To remove features, use the Remove last or remove all buttons for either points or highlights.</p>
<p>You can also overlay the plot with the SD ratio. The dotted areas then represent areas where the SD ratio is less than a chosen value. In these areas, a lower SD ratio indicates that ModE-RA was more constrained by observations and is therefore likely to be more reliable. In the composites tool, % sign match will show points on the map where the yearly anomalies that form the composite agree in their sign more often than the selected threshold. This gives an indication of the consistency of anomalies over the composite. Example: A composite of five years, with anomalies of -1°C, -5°C, 1°C, 15°C and -3°C, would display positive average anomaly. However, there would only be a 40% sign match since three of the years in fact have a negative.</p>
<p>Under Timeseries customization, you can adjust the title and axis settings. Use a custom title, set the y-axis to automatic or fixed, and define custom intervals for the year axis. You can also show or hide the key and display the absolute mean for the reference period as a reference line.</p>
<p>You can also add points, highlights, and lines to the timeseries plot. To add a point, click once on the plot or enter the value manually. Highlights work just like on the map – draw them directly or enter the range. To add a line, click on the plot or enter a value. Double-click to flip the direction of the line.</p>
<p>You can add moving averages and percentiles to your timeseries. A moving average shows the mean of a selected number of years around each point in the series. This helps to smooth out short-term fluctuations and highlight long-term trends.</p>
<p>Percentiles indicate where most values fall within the distribution. For example, with the 0.95 percentile, 95% of the data points lie between the two lines – only 2.5% are above the upper line, and 2.5% are below the lower one.</p>
<p>These tools can help you interpret variability and trends more clearly over time.</p>
<p>If you have created a map that you would like to continue working on in ClimeApp at a later point, there is the possibility to download the metadata.</p>
<p>This saves all the details of the current map or timeseries in an Excel sheet, which you can later re-upload here and resume your work. After uploading the metadata, click “Update upload inputs” to apply the settings.</p>
<p>For later use, you can download all maps and timeseries as image files.</p>
<p>If you want to save the data for further calculations on your computer, you can do so by downloading gridded map data and time series tables in CSV or Excel format. For use in GIS, you can export a GeoTIFF. Note that if you calculate, for example anomalies over a range multiple of years, these files will contain the averaged values.</p>
<p>If you want to have map data of each timestep, you can download a NetCDF file that contains yearly data for the selected time range and geographical area. You can choose one or multiple variables.</p>
</div>
</div>
</div>
</section>
<section id="outlook-conclusions-references" class="level2">
<h2 class="anchored" data-anchor-id="outlook-conclusions-references">12. Outlook / Conclusions / References</h2>
<div class="video-wrapper">
<div class="video-placeholder">
Video coming soon
</div>
<p><!-- Kann nach Fertigstellung entfernt werden --> <!--   <video controls> --> <!--     <source src="videos/12_outlook.mp4" type="video/mp4"> --> <!--     Your browser does not support the video tag. --> <!--   </video> --></p>
</div>
<div class="text-outlook">
<p><strong>GitHub:</strong> <a href="https://github.com/ClimeApp/ClimeApp_development" class="link">https://github.com/ClimeApp/ClimeApp_development</a></p>
<p><strong>Contact:</strong> <a href="mailto:climeapp.hist@unibe.ch" class="link">climeapp.hist@unibe.ch</a></p>
<p><strong>Publications:</strong></p>
<ul>
<li><p><a href="https://cp.copernicus.org/articles/20/2645/2024/" class="link">R. Warren, N. Bartlome, N. Wellinger, J. Franke, R. Hand, S. Brönnimann, H. Huhtamaa: ClimeApp: data processing tool for monthly, global climate data from the ModE-RA palaeo-reanalysis, 1422 to 2008 CE. CP 20, 2645–2662 (2024).</a></p></li>
<li><p><a href="https://www.nature.com/articles/s41597-023-02733-8" class="link">V. Valler, J. Franke, Y. Brugnara, E. Samakinwa, R. Hand, E. Lundstad, A.-M. Burgdorf, L. Lipfert, A. R. Friedman, S. Brönnimann: ModE-RA: a global monthly paleo-reanalysis of the modern era 1421 to 2008. Scientific Data 11 (2024).</a></p></li>
<li><p><a href="https://gmd.copernicus.org/articles/16/4853/2023/" class="link">R. Hand, E. Samakinwa, L. Lipfert, and S. Brönnimann: ModE-Sim – a medium-sized atmospheric general circulation model (AGCM) ensemble to study climate variability during the modern era (1420 to 2009). GMD 16 (2023).</a></p></li>
</ul>
<p><strong>Funding:</strong></p>
<ul>
<li><p><a href="" class="link">PALAEO-RA project</a></p></li>
<li><p><a href="" class="link">European Research Council</a></p></li>
<li><p><a href="" class="link">Horizon 2020 program</a></p></li>
</ul>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Full Text of Video 12
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>We hope this tutorial has given you an insight into the various applications of ClimeApp. Our goal is to make climate research accessible to a wider audience, bridging the gap between climatology and other disciplines.</p>
<p>ClimeApp and its underlying datasets are documented in several peer-reviewed publications. For a technical overview of the app, see Warren, Bartlome et al.&nbsp;(2024). The reconstruction dataset ModE-RA is described in Valler et al.&nbsp;(2024), and the model ensemble ModE-Sim in Hand et al.&nbsp;(2023).</p>
<p>The ClimeApp code is openly available on GitHub, including the current and previous versions. You can find all links in the video description.</p>
<p>For questions, feedback, and suggestions on ClimeApp please contact us on climeapp.hist@unibe.ch</p>
<p>ModE-RA is the main product output of the PALAEO-RA project hosted at the University of Bern between 2018 to 2023, funded by the European Research Council through the Horizon 2020 program.</p>
<p>ClimeApp has been developed by a climate scientist, a historian and two geographers. Richard, Nik, Noémie and Tanja wish you happy plotting!</p>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>© 2025 ClimeApp Team – University of Bern</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
<p>This page is built with <a href="https://quarto.org/">Quarto</a></p>
</div>
  </div>
</footer>




</body></html>